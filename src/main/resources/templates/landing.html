<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" th:attr="data-api-base=${apiBase}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${appName}">Todo Summarized</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<!-- Navigation -->
<nav class="landing-nav">
    <div class="landing-nav-container">
        <a href="/" class="landing-logo">
                <span class="landing-logo-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                </span>
            <span th:text="${appName}">Todo Summarized</span>
        </a>
        <div class="landing-nav-links">
            <button class="btn btn-ghost" id="navLoginBtn">Login</button>
            <button class="btn btn-primary" id="navRegisterBtn">Get Started</button>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="hero">
    <div class="hero-container">
        <div class="hero-badge">
            <span class="hero-badge-dot"></span>
            <span>AI-Powered Task Management</span>
        </div>
        <h1>Organize Tasks.<br><span>Get AI Insights.</span></h1>
        <p class="hero-subtitle">
            A simple, powerful todo app that helps you stay organized and provides
            intelligent summaries of your tasks using AI.
        </p>
        <div class="hero-cta">
            <button class="btn btn-primary btn-hero" id="heroRegisterBtn">Start Free</button>
            <button class="btn btn-secondary btn-hero" id="heroLoginBtn">Sign In</button>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features">
    <div class="features-container">
        <div class="section-header">
            <h2>Everything you need to stay productive</h2>
            <p>Simple yet powerful features to manage your daily tasks effectively.</p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 20h9"></path>
                        <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                    </svg>
                </div>
                <h3>Quick Add Tasks</h3>
                <p>Add tasks in seconds with our streamlined interface. Just type and press enter to create a new task
                    instantly.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                </div>
                <h3>Due Dates & Priorities</h3>
                <p>Set due dates and priority levels to keep track of what's important and never miss a deadline.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                </div>
                <h3>AI Insights</h3>
                <p>Get personalized AI-generated summaries and insights about your tasks to help you plan better.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"></line>
                        <line x1="12" y1="20" x2="12" y2="4"></line>
                        <line x1="6" y1="20" x2="6" y2="14"></line>
                    </svg>
                </div>
                <h3>Progress Tracking</h3>
                <p>View your completion rate, track overdue tasks, and see breakdowns by status and priority.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                    </svg>
                </div>
                <h3>Status Management</h3>
                <p>Track tasks through their lifecycle - from not started, to in progress, to completed.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                        <line x1="8" y1="21" x2="16" y2="21"></line>
                        <line x1="12" y1="17" x2="12" y2="21"></line>
                    </svg>
                </div>
                <h3>Works Everywhere</h3>
                <p>Responsive design that works beautifully on desktop, tablet, and mobile devices.</p>
            </div>
        </div>
    </div>
</section>

<!-- Demo Section -->
<section class="demo">
    <div class="demo-container">
        <div class="section-header">
            <h2>See it in action</h2>
            <p>A clean, intuitive interface that gets out of your way.</p>
        </div>
        <div class="demo-window">
            <div class="demo-header">
                <span class="demo-dot demo-dot-red"></span>
                <span class="demo-dot demo-dot-yellow"></span>
                <span class="demo-dot demo-dot-green"></span>
            </div>
            <div class="demo-content">
                <div class="demo-todo-list">
                    <div class="demo-todo-item">
                        <div class="demo-checkbox checked">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                 stroke-width="3">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </div>
                        <span class="demo-todo-text completed">Review project requirements</span>
                        <span class="badge badge-status-completed">Completed</span>
                    </div>
                    <div class="demo-todo-item">
                        <div class="demo-checkbox checked">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                 stroke-width="3">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </div>
                        <span class="demo-todo-text completed">Set up development environment</span>
                        <span class="badge badge-status-completed">Completed</span>
                    </div>
                    <div class="demo-todo-item">
                        <div class="demo-checkbox"></div>
                        <span class="demo-todo-text">Build user authentication</span>
                        <span class="badge badge-priority-high">High</span>
                    </div>
                    <div class="demo-todo-item">
                        <div class="demo-checkbox"></div>
                        <span class="demo-todo-text">Design dashboard layout</span>
                        <span class="badge badge-priority-medium">Medium</span>
                    </div>
                    <div class="demo-todo-item">
                        <div class="demo-checkbox"></div>
                        <span class="demo-todo-text">Write API documentation</span>
                        <span class="badge badge-priority-low">Low</span>
                    </div>
                </div>

                <div class="demo-ai-box">
                    <div class="demo-ai-header">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2">
                            <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"></path>
                        </svg>
                        AI Insights
                    </div>
                    <div class="demo-ai-content">
                        <strong>Great progress!</strong> You've completed 2 out of 5 tasks (40%).
                        Focus on "Build user authentication" next as it's marked high priority.
                        You're on track to finish this project by the end of the week!
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta">
    <div class="cta-container">
        <h2>Ready to get organized?</h2>
        <p>Start managing your tasks smarter today. It's free to get started.</p>
        <button class="btn btn-cta" id="ctaRegisterBtn">Create Free Account</button>
    </div>
</section>

<!-- Footer -->
<footer class="landing-footer">
    <p th:text="'© 2026 ' + ${appName} + '. All rights reserved.'">© 2026 Todo Summarized. All rights reserved.</p>
</footer>

<!-- Auth Modals -->
<div th:replace="~{login :: modal}"></div>
<div th:replace="~{register :: modal}"></div>

<div class="toast-container" id="toastContainer"></div>

<!-- Scripts -->
<script th:src="@{/js/api.js}"></script>
<script th:src="@{/js/auth.js}"></script>
<script th:src="@{/js/utils.js}"></script>
<script th:replace="~{login :: modal-scripts}"></script>
<script th:replace="~{register :: modal-scripts}"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Check if already authenticated
        if (Auth.isAuthenticated()) {
            window.location.href = '/dashboard';
            return;
        }

        // Initialize modals
        LoginModal.init();
        RegisterModal.init();

        // Nav buttons
        document.getElementById('navLoginBtn')?.addEventListener('click', () => LoginModal.open());
        document.getElementById('navRegisterBtn')?.addEventListener('click', () => RegisterModal.open());

        // Hero buttons
        document.getElementById('heroLoginBtn')?.addEventListener('click', () => LoginModal.open());
        document.getElementById('heroRegisterBtn')?.addEventListener('click', () => RegisterModal.open());

        // CTA button
        document.getElementById('ctaRegisterBtn')?.addEventListener('click', () => RegisterModal.open());

        // Check URL params for modal triggers
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('login') === 'true') {
            LoginModal.open();
        } else if (urlParams.get('register') === 'true') {
            RegisterModal.open();
        }
    });
</script>
</body>
</html>